
--WMK 유저 
create table wmk_users(
   id varchar2(20) not null primary key,
   pw varchar2(200) not null,
    nickname varchar2(50),
    email varchar2(50),
    nationality varchar2(50), 
   enabled char(1) DEFAULT '1'
);


--자유게시판 테이블
create table FREE_BOARD(
	fBoard_Num NUMBER(20) not null PRIMARY KEY,
	fId varchar2(20) not null,
	fTitle VARCHAR2(100) not null,
	fContent VARCHAR2(255),
	fDate DATE DEFAULT SYSDATE,
	fHit NUMBER(10) DEFAULT 0,
	fGroup NUMBER(4),
	fStep NUMBER(4),
	fIndent NUMBER(4),
	FOREIGN KEY (fId) REFERENCES wmk_users (id) -- 작성자를 id로 나타낸다.
);

--게시판 번호 자동 증가
create sequence free_board_seq; 




---자유 게시판 댓글 ---
create table free_reply (
    fBoard_Num      number          not null, --게시판 번호
    id      varchar2(50)    not null,
    repNum      number          not null,
    repCon      varchar2(2000)  not null,
    repDate     date            default sysdate,
    primary key(fBoard_Num, repNum) 
);

create sequence free_reply_seq;

alter table free_reply
    add constraint free_reply_fBoard_Num foreign key(fBoard_Num)
    references FREE_BOARD(fBoard_Num);

alter table free_reply
    add constraint free_reply_fId foreign key(id)
    references wmk_users(id);

--test
insert into free_reply (fBoard_Num, id, repNum, repCon) values (1, 'the3536', tbl_reply_seq.nextval, '테스트내용');
    